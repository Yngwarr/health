# Health CRUD

Небольшое CRUD-приложение, написанное на Clojure.

```
   \\\\
   c  oo
    | .U
   __=__                        ,,,
  |.  __|___                    oo ;
  ||_/  /  /                    U= _  0
  \_/__/__E   o                 /. .| |
   (___ ||    |~~~~~~~~~~~~~~~~'----'~|
   I---|||    |-----------------------|
   I   |||    |       c(__)           |
   ^   '--''  ^                       ^

Petrus
```

## Запуск приложения

Для запуска приложения вам понадобится Docker (протестировано на версии
`20.10.22, build 3a2c30b63a`, другие версии тоже должны подойти). Запуск
производится в несколько команд:

```bash
cd ./containers
./build.sh dev keep
./run.sh dev keep
cd -
./start.sh
```

Запуск занимает время, так как включает в себя создание и запуск контейнеров с
базой данных, а так же компиляцию ClojureScript.
Строка `Started ServerConnector@58435220{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}`
означает, что приложение запущено и доступно по адресу `http://localhost:8080`.

Для удаления созданных контейнеров можно воспользоваться скриптами `./stop.sh dev`
и `./rmi.sh dev` в директории `containers`.

Для запуска тестов воспользуйтесь скриптом `test.sh` в корне репозитория.

## Возможности

* Добавление, редактирование и удаление пациентов.
* Валидация информации о пациентах (на сервере и на клиенте, не обязательно
    отправлять данные на сервер, чтобы узнать, что не так).
* Не очень умный поиск по строке.

## Что нужно доделать?

* Вынести конфиги из кода (креды от баз данных, порты).
* Улучшить поиск:
  * Убрать регистро-зависимость.
  * Искать числа с начала а не в любой части строки (например `2005` не должно
      находить `54320057...`).
  * Искать пол по полному совпадению (чтобы `male` не находило `female`).
* Пагинация для списка пациентов, чтобы ограничить максимальный размер страницы.
* Поиск и отправка данных по нажатию на Enter.
* Перенести внешние зависимости фронтенда в репозиторий.

К сожалению, мне не хватило времени реализовать все задумки.

## Внешние зависимости

* [Marx CSS](https://mblode.github.io/marx/).
* [Google Material Symbols](https://fonts.google.com/icons).
